version: "3.6"

services:
  wordvec:
    image: registry.hive-discover.tech/wordvec-api:stable
    restart: unless-stopped
    ports:
      - "7878:8000"
    command: -model_filepath fasttext_gensim.model

  web:
    image: registry.hive-discover.tech/node-backend
    restart: unless-stopped
    ports:
      - "3000:3000"
    command: --api --unhandled-rejections=strict
    env_file:
      - "NodeJS/docker_variables.env" 
  
  categorizer:
    image: registry.hive-discover.tech/python-backend
    restart: unless-stopped
    command: --categorizer
    depends_on:
      - "wordvec"
    env_file:
      - "Python/docker_variables.env" 
  
  lang-detector:
    image: registry.hive-discover.tech/python-backend
    restart: unless-stopped
    command: --langdetector
    env_file:
      - "Python/docker_variables.env" 

  chain-listener:
    image: registry.hive-discover.tech/node-backend
    restart: unless-stopped
    command: --chainlistener --unhandled-rejections=strict
    env_file:
      - "NodeJS/docker_variables.env" 

  acc-analyzer:
    image: registry.hive-discover.tech/node-backend
    restart: unless-stopped
    command: --analyzer --unhandled-rejections=strict
    env_file:
      - "NodeJS/docker_variables.env" 

  ac-bot:
    image: registry.hive-discover.tech/python-backend
    restart: unless-stopped
    command: --bot
    env_file:
      - "Python/docker_variables.env" 
